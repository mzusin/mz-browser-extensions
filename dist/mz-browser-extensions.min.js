/* 
mz-browser-extensions v1.0.1
TypeScript-based library for managing browser extensions.
https://github.com/mzusin/mz-browser-extensions  
Copyright (c) 2023-present, Miriam Zusin          
*/
(()=>{var m=(r,o,e)=>new Promise((t,n)=>{var c=s=>{try{i(e.next(s))}catch(l){n(l)}},a=s=>{try{i(e.throw(s))}catch(l){n(l)}},i=s=>s.done?t(s.value):Promise.resolve(s.value).then(c,a);i((e=e.apply(r,o)).next())});var u=()=>new Promise((r,o)=>{try{chrome.tabs.query({active:!0,currentWindow:!0},e=>{if(!e||e.length<=0){o(null);return}r(e[0])})}catch(e){o(e)}}),h=r=>new Promise((o,e)=>{chrome.tabs.getZoom(r,t=>{o(t)})});var w=r=>new Promise((o,e)=>{try{chrome.storage.sync.get([r],t=>{if(!t||!t[r]){o(null);return}let n=JSON.parse(t[r]);o(n)})}catch(t){console.error(t),e(t)}}),y=r=>new Promise((o,e)=>{try{chrome.storage.local.get([r],t=>{if(!t||!t[r]){o(null);return}let n=JSON.parse(t[r]);o(n)})}catch(t){console.error(t),e(t)}}),p=()=>new Promise((r,o)=>{try{chrome.storage.sync.get(null,e=>{r(e)})}catch(e){console.error(e),o(e)}}),P=()=>new Promise((r,o)=>{try{chrome.storage.local.get(null,e=>{r(e)})}catch(e){console.error(e),o(e)}}),d=(r,o)=>new Promise((e,t)=>{try{let n=JSON.stringify(o);chrome.storage.sync.set({[r]:n},()=>{e()})}catch(n){console.error(n),t(n)}}),f=(r,o)=>new Promise((e,t)=>{try{let n=JSON.stringify(o);chrome.storage.local.set({[r]:n},()=>{e()})}catch(n){console.error(n),t(n)}}),T=r=>new Promise((o,e)=>{try{chrome.storage.sync.remove(r,()=>{o(null)})}catch(t){e(t)}}),S=r=>new Promise((o,e)=>{try{chrome.storage.local.remove(r,()=>{o(null)})}catch(t){e(t)}}),b=()=>new Promise((r,o)=>{try{chrome.storage.sync.clear(()=>{r(null)})}catch(e){o(e)}}),v=()=>new Promise((r,o)=>{try{chrome.storage.local.clear(()=>{r(null)})}catch(e){o(e)}});var D=(r,o)=>new Promise((e,t)=>{try{chrome.cookies.getAll({domain:r,name:o},n=>{e(n)})}catch(n){console.error(n),t()}}),k=(r,o,e)=>new Promise((t,n)=>{try{chrome.cookies.set({url:r,name:o,value:e},()=>{t()})}catch(c){console.error(c),n()}}),O=(r,o)=>new Promise((e,t)=>{try{chrome.cookies.remove({url:r,name:o},()=>{e()})}catch(n){console.error(n),t()}});var L=r=>new Promise((o,e)=>{chrome.tabs.captureVisibleTab({format:r,quality:100},t=>{if(chrome.runtime.lastError){console.error(chrome.runtime.lastError),e(null);return}o(t)})});var _=(r,o)=>new Promise((e,t)=>{try{chrome.downloads.download({url:r,filename:o},n=>{e(n)})}catch(n){console.error(n),t()}}),J=r=>new Promise((o,e)=>{m(void 0,null,function*(){try{let t=yield window.showOpenFilePicker({types:r});if(!t||t.length<=0){e();return}let n=t[0],a=yield(yield n.getFile()).text();o({name:n.name,text:a})}catch(t){e(t)}})}),C=(r,o,e)=>new Promise((t,n)=>{m(void 0,null,function*(){try{let a=yield(yield window.showSaveFilePicker({types:r,suggestedName:o})).createWritable();yield a.write(e),yield a.close(),t()}catch(c){n(c)}})});})();
